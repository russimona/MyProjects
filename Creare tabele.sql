DROP TABLE CUPOANE;
DROP TABLE BILETE;
DROP TABLE ZBORURI;
DROP TABLE CLIENTI;

CREATE TABLE CLIENTI (
ID_CLIENT numeric(5,0) ,CONSTRAINT CLIENT_ID_PK PRIMARY KEY,
NUME varchar(50),
STATUT varchar(50),
ADRESA varchar(50)
);

CREATE TABLE BILETE (
NR_BILET numeric(5,0), CONSTRAINT BILETE_NR_PK PRIMARY KEY,
CLASA varchar(50),
VALOARE numeric(5.0),
SURSA varchar(50),
DESTINATIA varchar(50),
ID_CLIENT numeric(5,0),
CONSTRAINT BILETE_ID_FK FOREIGN KEY (ID_CLIENT)
REFERENCES CLIENTI(ID_CLIENT)
);


CREATE TABLE ZBORURI
(NR_ZBOR varchar(10),
PLECARE DATEDATETIME,
SOSIRE DATEDATETIME,
DE_LA varchar(50),
LA varchar(50),
APARAT_ZBOR varchar(10),
NR_LOCURI numeric(5, 0), 
PRIMARY KEY (NR_ZBOR, PLECARE)
);

CREATE TABLE CUPOANE
(
NR_BILET numeric(6,0),
NR_ZBOR varchar(10),
PLECARE DATETIME,
CLASA_EFECTIVA varchar(50),
LOC numeric(5,0),
FOREIGN KEY (NR_BILET)  REFERENCES BILETE(NR_BILET),
FOREIGN KEY (NR_ZBOR, PLECARE) REFERENCES ZBORURI(NR_ZBOR, PLECARE)
);


-- se populeaza tabelele 

INSERT INTO CLIENTI
 VALUES ( 1, 'Jean Radu', 'VIP', 'BUCURESTI' );
INSERT INTO CLIENTI
 VALUES ( 2, 'John Smith', 'VIP', 'BUCURESTI' );
INSERT INTO CLIENTI
 VALUES ( 3, 'Noah Abel', 'VIP', 'CLUJ NAPOCA' );
INSERT INTO CLIENTI
 VALUES ( 4, 'Denis Cristian', 'C', 'BRASOV' );
INSERT INTO CLIENTI
 VALUES ( 5, 'Elena Maria', 'C', 'CLUJ NAPOCA' );
INSERT INTO CLIENTI
 VALUES ( 6, 'Cristina Muresan', 'C', 'BUCURESTI' );


INSERT INTO BILETE
 VALUES ( 1, 'ECONOMIC', 200, 'BUCURESTI', 'PARIS', 1 );
INSERT INTO BILETE
 VALUES ( 2, 'ECONOMIC', 250, 'BUCURESTI', 'LONDRA', 3 );
INSERT INTO BILETE
 VALUES ( 3, 'ECONOMIC', 200, 'BUCURESTI', 'MUNCHEN', 3 );
INSERT INTO BILETE
 VALUES ( 4, 'ECONOMIC', 150, 'PARIS', 'LONDRA', 4 );
INSERT INTO BILETE
 VALUES ( 5, 'ECONOMIC', 300, 'MUNCHEN', 'PARIS', 5 );
INSERT INTO BILETE
 VALUES ( 6, 'BUSINESS', 550, 'BUCURESTI', 'BUCURESTI', 2 );
INSERT INTO BILETE
 VALUES ( 7, 'BUSINESS', 580, 'MUNCHEN', 'PARIS', 2 );
INSERT INTO BILETE
 VALUES ( 8, 'BUSINESS', 600, 'PARIS', 'LONDRA', 3 );
INSERT INTO BILETE
 VALUES ( 9, 'BUSINESS', 750, 'BUCURESTI', 'LONDRA', 5 );
INSERT INTO BILETE
 VALUES ( 10, 'BUSINESS', 530, 'MUNCHEN', 'PARIS', 4 );


INSERT INTO ZBORURI
 VALUES ( 'AIF213', STR_TO_DATE('15-Sep-2019  14:15', '%d-%b-%Y %H:%i') , STR_TO_DATE('15-Sep-2019 19:15', '%d-%b-%Y %H:%i'), 'BUCURESTI', 'MUNCHEN', 'AIRBUS100', 400 );
INSERT INTO ZBORURI
 VALUES ( 'AIF214', STR_TO_DATE('17-Sep-2019 19:15', '%d-%b-%Y %H:%i') , STR_TO_DATE('17-Sep-2019 22:15', '%d-%b-%Y %H:%i'), 'MUNCHEN', 'PARIS', 'AIRBUS101', 200 );
INSERT INTO ZBORURI
 VALUES ( 'AIF215', STR_TO_DATE('18-Dec-2019 06:35', '%d-%b-%Y %H:%i') , STR_TO_DATE('18-Dec-2019 10:00', '%d-%b-%Y %H:%i'), 'BUCURESTI', 'LONDRA', 'AIRBUS102', 350 );
INSERT INTO ZBORURI
 VALUES ( 'AIF216', STR_TO_DATE('18-Dec-2019 11:10', '%d-%b-%Y %H:%i') , STR_TO_DATE('18-Dec-2019 15:15', '%d-%b-%Y %H:%i'), 'BUCURESTI', 'MUNCHEN', 'AIRBUS100', 500 );
INSERT INTO ZBORURI
 VALUES ( 'AIF217', STR_TO_DATE('18-Dec-2019 12:45', '%d-%b-%Y %H:%i') , STR_TO_DATE('18-Dec-2019 15:45', '%d-%b-%Y %H:%i'), 'PARIS', 'LONDRA', 'AIRBUS102', 270 );
INSERT INTO ZBORURI
 VALUES ( 'AIF218', STR_TO_DATE('28-Dec-2019 05:15', '%d-%b-%Y %H:%i') , STR_TO_DATE('28-Dec-2019 08:15', '%d-%b-%Y %H:%i'), 'MUNCHEN', 'PARIS', 'AIRBUS104', 380 );
INSERT INTO ZBORURI
 VALUES ( 'AIF219', STR_TO_DATE('28-Dec-2019 09:15', '%d-%b-%Y %H:%i') , STR_TO_DATE('28-Dec-2019 13:15', '%d-%b-%Y %H:%i'), 'BUCURESTI', 'LONDRA', 'AIRBUS100', 430 );
INSERT INTO ZBORURI
 VALUES ( 'AIF220', STR_TO_DATE('28-Dec-2019 12:15', '%d-%b-%Y %H:%i') , STR_TO_DATE('28-Dec-2019 15:15', '%d-%b-%Y %H:%i'), 'LONDRA', 'BUCURESTI', 'AIRBUS103', 560 );
INSERT INTO ZBORURI
 VALUES ( 'AIF221', STR_TO_DATE('29-Dec-2019 06:15', '%d-%b-%Y %H:%i') , STR_TO_DATE('29-Dec-2019 09:15', '%d-%b-%Y %H:%i'), 'MUNCHEN', 'PARIS', 'AIRBUS102', 580 );
INSERT INTO ZBORURI
 VALUES ( 'AIF222', STR_TO_DATE('29-Dec-2019 10:15', '%d-%b-%Y %H:%i') , STR_TO_DATE('29-Dec-2019 13:15', '%d-%b-%Y %H:%i'), 'PARIS', 'LONDRA', 'AIRBUS104', 460 );
INSERT INTO ZBORURI
 VALUES ( 'AIF223', STR_TO_DATE('29-Dec-2019 15:15', '%d-%b-%Y %H:%i') , STR_TO_DATE('29-Dec-2019 18:15', '%d-%b-%Y %H:%i'), 'BUCURESTI', 'LONDRA', 'AIRBUS103', 350 );
INSERT INTO ZBORURI
 VALUES ( 'AIF224', STR_TO_DATE('29-Dec-2019 18:15', '%d-%b-%Y %H:%i') , STR_TO_DATE('29-Dec-2019 21:15', '%d-%b-%Y %H:%i'), 'MUNCHEN', 'PARIS', 'AIRBUS104', 360 );


INSERT INTO CUPOANE
 VALUES ( 1, 'AIF213', STR_TO_DATE('15-Sep-2019  14:15', '%d-%b-%Y %H:%i'), 'ECONOMIC', 356 );
INSERT INTO CUPOANE
 VALUES ( 1, 'AIF214', STR_TO_DATE('17-Sep-2019 19:15', '%d-%b-%Y %H:%i'), 'ECONOMIC', 145 );
INSERT INTO CUPOANE
 VALUES ( 2, 'AIF215', STR_TO_DATE('18-Dec-2019 06:35', '%d-%b-%Y %H:%i'), 'ECONOMIC', 268 );
INSERT INTO CUPOANE
 VALUES ( 3, 'AIF216', STR_TO_DATE('18-Dec-2019 11:10', '%d-%b-%Y %H:%i'), 'ECONOMIC', 436 );
INSERT INTO CUPOANE
 VALUES ( 4, 'AIF217', STR_TO_DATE('18-Dec-2019 12:45', '%d-%b-%Y %H:%i'), 'ECONOMIC', 245 );
INSERT INTO CUPOANE
 VALUES ( 5, 'AIF218', STR_TO_DATE('28-Dec-2019 05:15', '%d-%b-%Y %H:%i'), 'ECONOMIC', 320 );
INSERT INTO CUPOANE
 VALUES ( 6, 'AIF219', STR_TO_DATE('28-Dec-2019 09:15', '%d-%b-%Y %H:%i'), 'BUSINESS', 20 );
INSERT INTO CUPOANE
 VALUES ( 6, 'AIF220', STR_TO_DATE('28-Dec-2019 12:15', '%d-%b-%Y %H:%i'), 'BUSINESS', 15 );
INSERT INTO CUPOANE
 VALUES ( 7, 'AIF221', STR_TO_DATE('29-Dec-2019 06:15', '%d-%b-%Y %H:%i'), 'BUSINESS', 34 );
INSERT INTO CUPOANE
 VALUES ( 8, 'AIF222', STR_TO_DATE('29-Dec-2019 10:15', '%d-%b-%Y %H:%i'), 'BUSINESS', 5 );
INSERT INTO CUPOANE
 VALUES ( 9, 'AIF223', STR_TO_DATE('29-Dec-2019 15:15', '%d-%b-%Y %H:%i'), 'BUSINESS', 8 );
INSERT INTO CUPOANE
 VALUES ( 10, 'AIF224', STR_TO_DATE('29-Dec-2019 18:15', '%d-%b-%Y %H:%i'), 'BUSINESS', 14 );




